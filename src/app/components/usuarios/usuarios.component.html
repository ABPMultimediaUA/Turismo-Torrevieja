<h1>Usuarios</h1>
<hr>

<div class="row">
  <div class="col-md-12 text-right">
    <button [routerLink]="['/nuevo-usuario']"
            class="btn btn-outline-primary"
            type="button" name="button">
      Nuevo usuario
    </button>
  </div>
</div>
<br>

<div class="row animated fadeIn fast">
  <div class="col-md-12">
    <div class="table-responsive">
      <div class="table-responsive">
      <table class="table table-striped">
        <thead class="thead-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Id</th>
            <th scope="col">Nombre</th>
            <th scope="col">Apodo</th>
            <th scope="col">Correo</th>
            <th scope="col">Verificado</th>
            <th scope="col">rol</th>
            <th class="text-right">Opciones</th>
            <!-- identificador:number;
            nombreUsuario:string;
            apodo:string;
            correo:string;
            password:string;
            password_confirmation:string;
            esVerificado:number;
            //key$?:string; identificador es la key
            rol:number; -->
          </tr>
        </thead>
        <tbody>
           <!-- el pipe keys es para pasar un objeto a un array -->
          <tr *ngFor="let usuario of usuarios; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ usuario.identificador }}</td>
            <td>{{ usuario.nombreUsuario }}</td>
            <td>{{ usuario.apodo }}</td>
            <td>{{ usuario.correo }}</td>
            <td *ngIf="!usuario.esVerificado ==0">Si</td>
            <td *ngIf="usuario.esVerificado ==0">No</td>
            <td *ngIf="usuario.rol ==1">Administrador</td>
            <td *ngIf="usuario.rol ==2">Trabajador</td>
            <td *ngIf="usuario.rol !=1 && usuario.rol !=2">Otros roles</td>

            <td class="text-right w120">
              <button  [routerLink]="['/usuario', usuario.identificador]"
              type="button" class="btn btn-outline-success">
                Editar
              </button>
              <button  (click)="borrarUsuario(usuario.identificador)"
              type="button" class="btn btn-outline-danger">
                Eliminar
              </button>
            </td>
          </tr>

        </tbody>
      </table>
      <div *ngIf="(usuarios).length === 0 && !loading"
      class="alert alert-info" role="alert">
          <strong>No hay </strong> usuarios que mostrar
      </div>
    </div>
  </div>
</div>
